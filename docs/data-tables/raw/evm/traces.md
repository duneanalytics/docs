---
title: Traces
description: Traces tables contain information about the execution of smaller atomic actions generated by transactions.
---

Transactions can trigger smaller atomic actions that modify the internal state of an Ethereum Virtual Machine. Information about the execution of these actions is logged and can be found stored as an EVM execution trace, or just a _trace_. In Etherscan these are referred to as "internal transactions".

Read more [here](https://medium.com/chainalysis/ethereum-traces-not-transactions-3f0533d26aa).

## Tables

=== "V2 Engine (Spark SQL)"

    |   Chain           |   Table               | Notes |
    | ----------------  | --------------------- | ----- |
    | Ethereum Mainnet  | `ethereum.traces`     | `value` measured in `wei` |
    | Gnosis Chain      | `gnosis.traces`       | `value` measured in `wei` |
    | Polygon           | `polygon.traces`      | `value` measured in `wei`, does not contain `gas` |
    | Optimism          | `optimism.traces`     | `value` measured in `wei` |
    | Optimism (legacy) | `optimism_legacy_ovm1.traces` | `value` measured in `wei` |
    | BNB Chain         | `bnb.traces`          | `value` measured in `wei` |
    | Arbitrum          | `arbitrum.traces`     | `value` measured in `ArbGas`, does not contain `gas` |
    | Avalanche C-Chain  | `avalanche_c.traces` | `value` measured in `nanoavax` |

=== "V1 Engine (PostgreSQL)"

    |   Chain              |   Table           |   Notes   |
    | -------------------  | ----------------- | --------- |
    | Ethereum Mainnet     | `ethereum.traces` | `value` measured in `wei`  |
    | Gnosis Chain (xDai)  | `xdai.traces`     | `value` measured in `wei` |
    | Polygon              | `polygon.traces`  | `value` measured in `wei`  |
    | Optimism (OVM 1 & 2) | `optimism.traces` | `value` measured in `wei`  |
    | BNB Chain (BSC)      | `bsc.traces`      | `value` measured in `wei`  |

## Column Data

### Example

![type:video](https://dune.com/embeds/1582215/2633989/e683cb9b-9074-43d3-b1b4-cf9940786b2c)

### Description

|   Column name    |   Data type    |   Description                                                            |
| --------------------- | :------------: | ------------------------------------------------------------------ |
| `block_time`     | _timestamptz_ | The time when the block was mined                                        |
| `block_number`   | _int8_        | The length of the blockchain in blocks                                   |
| `value`          | _numeric_     | The amount of `[chain_gas_token]` sent in this transaction               |
| `gas`            | _numeric_     | Gas provided with the message call                                       |
| `gas_used`       | _numeric_     | The gas consumed by the transaction in `wei`                            |
| `block_hash`     | _bytea_       | A unique identifier for that block                                       |
| `success`        | _boolean_     | A true/false value that shows if the trace action succeeded              |
| `tx_index`       | _numeric_     | The position of the transaction in a block                               |
| `sub_traces`     | _numeric_     | Number of children of a trace                                            |
| `error`          |  _text_       | The error message the EVM throws if the execution of one of a contract's instructions fails. [See a list of unique Ethereum Errors this past week here](https://dune.com/queries/1582755). |
| `tx_success`     | _boolean_     | A true/false value that indicates if the transaction succeeded           |
| `tx_hash`        | _bytea_       | The transaction hash of the event                                        |
| `from`           | _bytea_       | Address of the sender                                                    |
| `to`             | _bytea_       | Address of the receiver. `null` when its a contract creation transaction |
| `trace_address`  | _array_       | Address of the trace within the call graph forest. E.g., [0, 2, 1] is the parent of [0, 2, 1, 0] |
| `type`           | _text_        | Can be `reward`, `create`, `call` or `suicide`. Describes the type of action taken in this trace. | 
|`address`         | _bytea_       | The contract that is called when the type is `suicide` or `create`       |
| `code`           | _bytea_       | The bytecode to deploy a new contract, only contains data when type is `create`. |
| `call_type`      | _bytea_       | Can be `staticcall`, `delegatecall` or `call`. Learn more [here](https://medium.com/coinmonks/delegatecall-calling-another-contract-function-in-solidity-b579f804178c) |
| `input`          | _bytea_       | The bytecode of the call that is made to another smart contract          |
| `output`         | _bytea_       | The bytecode answer the smart contract that was called gives back        |
| `refund_address` | _bytea_       | Only contains data if `type` was `suicide`. Specifies where to send the outstanding BNB balance. |

## Gas used in `.traces`

The `gas_used` column in the `.traces` tables is a bit hard to understand, so here is some pointers:

- The `gas_used` of a trace will always include the gas consumed by the trace and all it's subtraces.
- The `gas_used` of the initial call will not contain the cost of making the call in the first place
- You need to add 21000 gas units + the cost of sending zero + non zero bytes to the `gas_used` value of the top trace to arrive at the "true" `gas_used` value.
- For more reading on this please refer to this [StackExchange entry](https://ethereum.stackexchange.com/questions/31443/what-do-the-response-values-of-a-parity-trace-transaction-call-actually-repres)
- [Here's an example query doing this in Dune](https://dune.com/queries/895857)

## Creation Traces


### Tables

|   Chain           |   Table               | Notes |
| ----------------  | --------------------- | ----- |
| Ethereum Mainnet  | `ethereum.creation_traces`     |  |
| Gnosis Chain      | `gnosis.creation_traces`       |  |
| Polygon           | `polygon.creation_traces`      |  |
| Optimism          | `optimism.creation_traces`     |  |
| Optimism (legacy) | `optimism_legacy_ovm1.creation_traces` |  |
| BNB Chain         | `bnb.creation_traces`          |  |
| Solana            | `solana.creation_traces`       |  |
| Arbitrum          | `arbitrum.creation_traces`     |  |
| Avalanche C-Chain  | `avalanche_c.creation_traces` |  |

### Example

![type:video](https://dune.com/embeds/1612273/2673868/6953efb3-bb8a-40c8-9e1b-a455dd7b0ae6)

### Description

Transactions can trigger smaller atomic actions that modify the internal state of an Ethereum Virtual Machine. 

One type of trace, `create`, is used to create a smart contract then transfer ether to it.

Read more [here](https://medium.com/chainalysis/ethereum-traces-not-transactions-3f0533d26aa).

|   Column name  |   Data type   | Description |
| -------------- | :-----------: | --------------- |
| `block_time`   | _timestamptz_ | The time when the block was mined |
| `block_number` | _long_        | The length of the blockchain in blocks |
| `tx_hash`      | _string_      | The transaction hash of the event |
| `address`      | _string_      | The address of the created contract |
| `from`         | _string_      | Address of the contract that generated the `create` trace |
| `code`         | _string_      | The function executed |
